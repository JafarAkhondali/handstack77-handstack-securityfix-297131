/*!
  * Copyright(c) 2014. M2SOFT Co., Ltd. All source codes cannot be copied without permission.
  * 
  * @version: 8.0.2.62
  * @bulid date: 2022/04/30 06:19
  */
CrownixEditorCustom=function(){var d,t,o,i={width:794,height:1122,paperType:"a4",gridPrefix:"xfe_grid_",padding:16,editorHeight:950},n=["xfe_menu_print","xfe_menu_pagebreak","xfe_menu_background","xfe_menu_insertimages","xfe_menu_inserthyperlink","xfe_menu_bookmark","xfe_menu_preview","xfe_menu_ruler","xfe_print","xfe_pagebreak","xfe_inserthyperlink","xfe_removehyperlink","xfe_insertimages","xfe_insertflash","xfe_insertmedia","xfe_insertmedialink","xfe_background","xfe_bookmark","xfe_fullscreen","xfe_template"],l=i.paperType;if(window.opener)try{d=window.opener.cxEditor,t=d.language,l=d.paperType,o=d.storageEditorData}catch(e){window.opener.postMessage({message:"popup-opended"},"*"),window.addEventListener("message",function(e){e.data.language&&(t=e.data.language,"reload"!=self.name?(self.name="reload",self.location.reload()):(window.opener.postMessage({message:"addOverlay"},"*"),self.name="crownix-editor-popup")),e.data.paperType&&(l=e.data.paperType,g()),e.data.storageEditorData&&(o=e.data.storageEditorData,xfe.setBodyValue(o))})}function e(e){for(var t=0;t<n.length;t++)e.showToolbarItemById(n[t],!1);e.showTab(2,!1),o&&xfe.setBodyValue(o),f()}function a(){return"en"==t?"english":"ja"==t?"japanese":"korean"}function r(e){var t=e.dataURL;if(0<(t=t.slice(0,xfe.cxPaperCnt)).length)if(1!=window.devicePixelRatio)for(var o=[],n=[],i=document.createElement("canvas"),a=i.getContext("2d"),r=0;r<t.length;r++)n.push(new Image),n[r].onload=function(e){if(i.width=xfe.cxCropWidth,i.height=xfe.cxCropHeight,a.drawImage(this,0,0,xfe.cxCropWidth,xfe.cxCropHeight),o.push(i.toDataURL()),o.length==t.length){try{d.setLocalStorage(xfe.getBodyValue()),d.complete(o,l)}catch(e){window.opener.postMessage({message:"setLocalStorage",data:xfe.getBodyValue()},"*"),window.opener.postMessage({message:"complete",result:{data:o,paperType:l}},"*")}window.onbeforeunload=null,window.close()}},n[r].src=t[r];else{try{d.setLocalStorage(xfe.getBodyValue()),d.complete(t,l)}catch(e){window.opener.postMessage({message:"setLocalStorage",data:xfe.getBodyValue()},"*"),window.opener.postMessage({message:"complete",result:{data:t,paperType:l}},"*")}window.onbeforeunload=null,window.close()}}function s(e){return xfe.cxImgFileDiv.click(),!1}function p(e){if("newfile"==e.cmd&&!xfe.isEmptyEditorContents())return window.confirm("문서를 초기화합니다.\n진행하시겠습니까?")&&xfe.setInitBodyValue(),!1}function c(e){var t,o,n=xfe.getDom().getElementsByTagName("body")[0];n&&((t=n.style.backgroundImage.split(/[\("|\")]/)[2])?(n=((o=new Image).src=t).indexOf(i.gridPrefix)+i.gridPrefix.length,l=t.substring(n,n+2),o.onload=function(){xfe.cxCropWidth=o.width,xfe.cxCropHeight=o.height,"function"==typeof e&&e()}):(xfe.cxCropWidth=i.width,xfe.cxCropHeight=i.height,l=i.paperType,"function"==typeof e&&e()))}var g=function(){var e=xfe.getDom().getElementsByTagName("body")[0];l&&(e.style.background="url(../images/grid/xfe_grid_"+l+"_blue.png) 0px 0px repeat-y"),c(function(){parseInt(e.offsetWidth)<xfe.cxCropWidth&&(e.style.width=xfe.cxCropWidth-20+"px")})},f=function(){g();var e=document.createElement("button");e.innerHTML="적용",e.setAttribute("style","background-color: #4CAF50;        border: none;        color: white;        padding: 13px 32px;        text-align: center;        text-decoration: none;        display: inline-block;        font-size: 16px;        cursor: pointer;        position: relative;        bottom: 0px;        float: right;        z-index: 1000;"),e.addEventListener("click",function(){var n;window.confirm("현재 작성한 내용을 적용하시겠습니까?")&&(n=xfe.getDom().getElementsByTagName("body")[0],parseInt(getComputedStyle(xfe.getBody()).padding)&&(i.padding=2*parseInt(getComputedStyle(xfe.getBody()).padding)),c(function(){var e=xfe.getDom().querySelector(".xfe_resize_handle");e&&(e.style.display="none"),xfe.getBody().style.background="",xfe.getBody().style.overflow="hidden",n=xfe.getDom().getElementsByTagName("body")[0];for(var t=[].slice.call(n.children).reverse(),o=0;o<t.length&&"<br>"==t[o].innerHTML;o++)n.removeChild(t[o]);xfe.cxPaperCnt=Math.ceil(n.scrollHeight/xfe.cxCropHeight),n.offsetWidth<xfe.cxCropWidth&&(n.style.width=xfe.cxCropWidth+"px"),n.style.minHeight=xfe.cxCropHeight*xfe.cxPaperCnt-i.padding/2+"px",n.style.height=xfe.cxCropHeight*xfe.cxPaperCnt-i.padding/2+"px",xfe.EditorScreenCapture({width:xfe.cxCropWidth*window.devicePixelRatio,height:xfe.cxCropHeight*window.devicePixelRatio})}))}),document.body.appendChild(e);e=document.createElement("button");e.innerHTML="삭제",e.setAttribute("style","        border: none;        padding: 13px 32px;        color: #4CAF50;        text-align: center;        text-decoration: none;        display: inline-block;        font-size: 16px;        cursor: pointer;        position: relative;        bottom: 0px;        float: right;        z-index: 1000;"),e.addEventListener("click",function(){if(window.confirm("추가된 페이지가 모두 제거됩니다. 적용하시겠습니까?")){try{d.setLocalStorage(xfe.getBodyValue()),d.complete("","")}catch(e){window.opener.postMessage({message:"setLocalStorage",data:xfe.getBodyValue()},"*"),window.opener.postMessage({message:"complete",result:{data:"",paperType:""}},"*")}window.onbeforeunload=null,window.close()}}),document.body.appendChild(e),xfe.cxImgFileDiv=document.createElement("input"),xfe.cxImgFileDiv.setAttribute("id","real-input"),xfe.cxImgFileDiv.setAttribute("type","file"),xfe.cxImgFileDiv.setAttribute("accept","img/*"),xfe.cxImgFileDiv.setAttribute("multiple","multiple-input"),xfe.cxImgFileDiv.style.display="none",xfe.cxImgFileDiv.addEventListener("click",function(){this.value=null}),xfe.cxImgFileDiv.addEventListener("change",function(e){var o=[],n=e.target.files,e=Array.prototype.slice.call(n);e.forEach(function(e){var t;e.type.match("image/.*")?n.length<11&&(o.push(e),(t=new FileReader).onload=function(t){c(function(){var e='<img src="'+t.target.result+'" style="max-width:'+(xfe.cxCropWidth-2*i.padding)+'px;"/></a>';xfe.insertHtmlAtCursor(e),0})},t.readAsDataURL(e)):alert("이미지 확장자만 업로드 가능합니다.")})}),document.body.appendChild(xfe.cxImgFileDiv)};window.onbeforeunload=function(e){try{d.language}catch(e){window.opener.postMessage({message:"setLocalStorage",data:xfe.getBodyValue()},"*"),window.opener.postMessage({message:"removeOverlay"},"*")}return(e||window.event).returnValue="변경 사항이 있습니다. 창을 닫으시겠습니까?"},window.onunload=function(){try{d.setLocalStorage(xfe.getBodyValue()),d.removeOverlay()}catch(e){window.opener.postMessage({message:"setLocalStorage",data:xfe.getBodyValue()},"*"),window.opener.postMessage({message:"removeOverlay"},"*")}};return function(){this.defaultValue=i,this.getLanguage=a,this.initEditor=e,this.clickInsertImage=s,this.screenCaptureComplete=r,this.toolbarIconDown=p}}();