/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/ui-contextmenu@1.18.1/test/tests.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function TestHelpers(){var e="",t=[],n=jQuery,i=n.ui.menu.version.match(/^(\d)\.(\d+)/),a=parseInt(i[1],10),o=parseInt(i[2],10),s=a<2&&o<11,u=a<2&&o<12,c=function(e,t){return"number"==typeof t?e.children(":eq("+t+")"):e.find("li[data-command="+t+"]")},l=function(e,t){return s?c(e,t).find("a:first"):u?c(e,t):c(e,t).find(">div:first")};return{log:function(i,a){a&&(t.length=0),void 0===i&&(i=e),t.push(n.trim(i))},logOutput:function(){return t.join(",")},clearLog:function(){t.length=0},entryEvent:function(t,n,i){e=n,l(t,n).trigger(i)},click:function(t,n){e=n,l(t,n).trigger("click")},entry:c,entryTitle:function(e,t){var n=l(e,t);return n&&n.length?n.contents().filter((function(){return 3===this.nodeType}))[0].nodeValue:null}}}jQuery(document).ready((function(){QUnit.config.requireExpects=!0;var e=new TestHelpers,t=jQuery,n=e.log,i=e.logOutput,a=e.click,o=e.entryEvent,s=e.entryTitle,u=e.entry,c={setup:function(){e.clearLog(),t("#sampleMenuTemplate").clone().attr("id","sampleMenu").appendTo("body")},teardown:function(){t(":moogle-contextmenu").contextmenu("destroy"),t("#sampleMenu").remove()}},l=[{title:"Cut",cmd:"cut",uiIcon:"ui-icon-scissors"},{title:"Copy",cmd:"copy",uiIcon:"ui-icon-copy"},{title:"Paste",cmd:"paste",uiIcon:"ui-icon-clipboard",disabled:!0},{title:"----"},{title:"More",children:[{title:"Sub Item 1",cmd:"sub1"},{title:"Sub Item 2",cmd:"sub2"}]}],d=[];function r(e,a){var o;a.expect(5),n("constructor"),t("#container").contextmenu({delegate:".hasmenu",menu:e,preventSelect:!0,create:function(){n("create")},createMenu:function(){n("createMenu")}}),n("afterConstructor"),o=t(":moogle-contextmenu"),a.equal(o.length,1,"widget created"),a.equal(t("head style.moogle-contextmenu-style").length,1,"global stylesheet created"),o.contextmenu("destroy"),a.equal(t(":moogle-contextmenu").length,0,"widget destroyed"),a.equal(t("head style.moogle-contextmenu-style").length,0,"global stylesheet removed"),a.equal(i(),"constructor,createMenu,create,afterConstructor","Event sequence OK.")}function m(e,a){var o,s,c=a.async();a.expect(19),t("#container").contextmenu({delegate:".hasmenu",menu:e,beforeOpen:function(e,i){n("beforeOpen"),a.equal(e.type,"contextmenubeforeopen","beforeOpen: Got contextmenubeforeopen event"),a.equal(i.target.text(),"AAA","beforeOpen: ui.target is set"),a.ok(s.is(":hidden"),"beforeOpen: Menu is hidden"),a.ok(!u(s,0).hasClass("ui-state-disabled"),"beforeOpen: Entry 0 is enabled"),a.ok(u(s,2).hasClass("ui-state-disabled"),"beforeOpen: Entry 2 is disabled"),a.ok(o.contextmenu("isOpen"),"isOpen() false in beforeOpen event"),t("#container").contextmenu("enableEntry","cut",!1),t("#container").contextmenu("showEntry","copy",!1)},open:function(e){n("open"),a.ok(s.is(":visible"),"open: Menu is visible"),a.ok(s.hasClass("ui-contextmenu"),"Class removed from menu definition"),a.ok(u(s,2).hasClass("ui-state-disabled"),"open: Entry is disabled"),a.ok(o.contextmenu("isOpen"),"isOpen() true in open event"),a.ok(u(s,0).is(":visible"),"beforeOpen: Entry 0 is visible"),a.ok(u(s,0).hasClass("ui-state-disabled"),"beforeOpen: Entry 0 is disabled: enableEntry(false) worked"),a.ok(u(s,1).is(":hidden"),"beforeOpen: Entry 1 is hidden: showEntry(false) worked"),a.ok(!u(s,1).hasClass("ui-state-disabled"),"beforeOpen: Entry 1 is enabled"),a.equal(i(),"open(),beforeOpen,after open(),open","Event sequence OK."),c()}}),o=t(":moogle-contextmenu"),s=o.contextmenu("getMenu"),a.ok(s,"getMenu() works"),a.ok(!o.contextmenu("isOpen"),"menu initially closed"),a.equal(o.length,1,"widget created"),a.ok(s.is(":hidden"),"Menu is hidden"),n("open()"),o.contextmenu("open",t("span.hasmenu:first")),n("after open()")}function p(e,s){var u,c,l=s.async();s.expect(13),t("#container").contextmenu({delegate:".hasmenu",menu:e,beforeOpen:function(e,t){n("beforeOpen("+t.target.text()+")"),s.equal(t.target.text(),"AAA","beforeOpen: ui.target is set"),s.equal(t.extraData.foo,"bar","beforeOpen: ui.extraData is set"),t.extraData.helloFromBO=!0},create:function(e,t){n("create")},createMenu:function(e,t){n("createMenu")},select:function(e,i){var a=i.item?t(i.item).attr("data-command"):i.item;n("select("+a+")"),s.equal(i.cmd,"cut","select: ui.cmd is set"),s.equal(i.target.text(),"AAA","select: ui.target is set"),s.equal(i.extraData.foo,"bar","select: ui.extraData is set"),s.equal(i.extraData.helloFromBO,!0,"select: ui.extraData is maintained")},open:function(e,t){n("open"),s.equal(t.target.text(),"AAA","open: ui.target is set"),s.equal(t.extraData.foo,"bar","open: ui.extraData is set"),s.equal(t.extraData.helloFromBO,!0,"open: ui.extraData is maintained"),setTimeout((function(){o(c,0,"mouseenter"),a(c,0)}),10)},close:function(e,t){n("close"),s.equal(t.target.text(),"AAA","close: ui.target is set"),s.equal(t.extraData.foo,"bar","close: ui.extraData is set"),s.equal(t.extraData.helloFromBO,!0,"close: ui.extraData is maintained"),s.equal(i(),"createMenu,create,open(),beforeOpen(AAA),after open(),open,select(cut),close","Event sequence OK."),l()}}),u=t(":moogle-contextmenu"),c=u.contextmenu("getMenu"),n("open()"),u.contextmenu("open",t("span.hasmenu:first"),{foo:"bar"}),n("after open()")}QUnit.testStart((function(e){QUnit.log((function(t){t.result||(t.name=e.name,d.push(t))}))})),QUnit.done((function(e){var t,n,i,a=[];for(t=0,n=d.length;t<n;t++)i=d[t],a.push({name:i.name,result:i.result,expected:i.expected,actual:i.actual,source:i.source});e.tests=a,window.global_test_results=e})),QUnit.module("prototype",c),QUnit.test("globals",(function(e){e.expect(2),e.ok(!!t.moogle.contextmenu,"exists in ui namnespace"),e.ok(!!t.moogle.contextmenu.version,"has version number")})),QUnit.module("create",c),QUnit.test("create from UL",(function(e){r("ul#sampleMenu",e)})),QUnit.test("create from array",(function(e){r(l,e)})),QUnit.module("open",c),QUnit.test("UL menu",(function(e){m("ul#sampleMenu",e)})),QUnit.test("Array menu",(function(e){m(l,e)})),QUnit.module("click event sequence",c),QUnit.test("Array menu",(function(e){p(l,e)})),QUnit.test("UL menu",(function(e){p("ul#sampleMenu",e)})),QUnit.module("Dynmic options",c),QUnit.test("'action' option",(function(e){var o,s,u=[{title:"Cut",cmd:"cut",uiIcon:"ui-icon-scissors",data:{foo:"bar"},addClass:"custom-class-1",action:function(t,i){n("cut action"),e.equal(i.cmd,"cut","action: ui.cmd is set"),e.equal(i.target.text(),"AAA","action: ui.target is set"),e.equal(i.item.data().foo,"bar","action: ui.item.data() is set"),e.ok(i.item.hasClass("custom-class-1"),"action: addClass property works")}},{title:"Copy",cmd:"copy",uiIcon:"ui-icon-copy"},{title:"Paste",cmd:"paste",uiIcon:"ui-icon-clipboard",disabled:!0}],c=e.async();e.expect(9),t("#container").contextmenu({delegate:".hasmenu",menu:u,open:function(e){n("open"),setTimeout((function(){a(s,0)}),10)},select:function(i,a){var o=a.item?t(a.item).attr("data-command"):a.item;n("select("+o+")"),e.equal(a.cmd,"cut","select: ui.cmd is set"),e.equal(a.target.text(),"AAA","select: ui.target is set"),e.equal(a.item.data().foo,"bar","ui.item.data() is set"),e.ok(a.item.hasClass("custom-class-1"),"addClass property works")},close:function(t){n("close"),e.equal(i(),"open(),after open(),open,select(cut),cut action,close","Event sequence OK."),c()}}),o=t(":moogle-contextmenu"),s=o.contextmenu("getMenu"),n("open()"),o.contextmenu("open",t("span.hasmenu:first")),n("after open()")})),QUnit.test("'tooltip' / 'disabled' options",(function(e){var o,s,c=[{title:"Cut",cmd:"cut",tooltip:function(t,i){return n("tooltip(cut)"),e.equal(i.cmd,"cut","ui.cmd is set"),e.equal(i.target.text(),"AAA","ui.target is set"),e.equal(i.item.text(),"Cut","ui.item is set"),"dynamic tt"}},{title:"Copy",cmd:"copy",tooltip:"static tt"},{title:"Paste",cmd:"paste",disabled:!0},{title:"Delete",cmd:"delete",disabled:function(e,t){return n("disabled(delete)"),!1}},{title:"Edit",cmd:"edit",disabled:function(e,t){return n("disabled(edit)"),!0}},{title:"Hidden",cmd:"hidden",disabled:function(e,t){return n("disabled(hidden)"),"hide"}}],l=e.async();e.expect(12),t("#container").contextmenu({delegate:".hasmenu",menu:c,open:function(t){n("open"),e.equal(u(s,"cut").attr("title"),"dynamic tt","tooltip callback result was used"),e.equal(u(s,"copy").attr("title"),"static tt","static tooltip value was used"),e.equal(u(s,"paste").hasClass("ui-state-disabled"),!0,"static disabled value was used"),e.equal(u(s,"delete").hasClass("ui-state-disabled"),!1,"dynamic disabled value 'false' was used"),e.ok(u(s,"delete").is(":visible"),"dynamic disabled value 'false' does not hide"),e.equal(u(s,"paste").hasClass("ui-state-disabled"),!0,"dynamic disabled value 'true' was used"),e.ok(u(s,"delete").is(":visible"),"dynamic disabled value 'true' does not hide"),e.ok(u(s,"hidden").is(":hidden"),"dynamic disabled value 'hide' was used"),setTimeout((function(){a(s,0)}),10)},close:function(t){n("close"),e.equal(i(),"open(),tooltip(cut),disabled(delete),disabled(edit),disabled(hidden),after open(),open,close","Event sequence OK."),l()}}),o=t(":moogle-contextmenu"),s=o.contextmenu("getMenu"),n("open()"),o.contextmenu("open",t("span.hasmenu:first")),n("after open()")})),QUnit.module("'beforeOpen' event",c),QUnit.test("modify on open",(function(e){var o,c,l=e.async();e.expect(29),t("#container").contextmenu({delegate:".hasmenu",menu:[{title:"Entry 1",cmd:"e1",uiIcon:"ui-icon-copy"},{title:"Entry 2",cmd:"e2",uiIcon:"ui-icon-copy"},{title:"Entry 3",cmd:"e3",uiIcon:"ui-icon-copy"},{title:"Entry 4",cmd:"e4",uiIcon:"ui-icon-copy"},{title:"Entry 5",cmd:"e5",uiIcon:"ui-icon-copy"},{title:"Entry 6",cmd:"e6",uiIcon:"ui-icon-copy"},{title:"Entry 7",cmd:"e7",uiIcon:"ui-icon-copy"},{title:"Entry 8",cmd:"e8",uiIcon:"ui-icon-copy"},{title:"Entry 9",cmd:"e9",uiIcon:"ui-icon-copy"}],beforeOpen:function(e,t){n("beforeOpen"),o.contextmenu("setTitle","e1","Entry 1 - changed").contextmenu("setEntry","e2",{uiIcon:"ui-icon-changed"}).contextmenu("setEntry","e3",{title:"Entry 3 - changed",cmd:"e3",children:[{title:"Sub 1",cmd:"e3_1"},{title:"Sub 2",cmd:"e3_2",disabled:!0}]}).contextmenu("setEntry","e4",{title:"Entry 4 - changed",cmd:"e4_changed"}).contextmenu("updateEntry","e5",{uiIcon:"ui-icon-changed"})},open:function(t){n("open"),e.equal(s(c,"e1"),"Entry 1 - changed","setTitle(string) changed title"),e.equal(u(c,"e1").find("span.ui-icon").length,1,"setTitle(string) keeps existing icon"),e.equal(u(c,"e2").find("span.ui-icon-changed").length,1,"setEntry(<uiIcon>) sets icon"),e.equal(s(c,"e2"),"undefined","setEntry(<uiIcon>) resets title"),e.equal(s(c,"e3"),"Entry 3 - changed","setEntry(object) set nested title"),e.ok(!u(c,"e3").hasClass("ui-state-disabled"),"setEntry(object) has reset 'disabled' attribute"),e.equal(s(c,"e3_1"),"Sub 1","setEntry(object) created nested entry"),e.ok(u(c,"e3_2").hasClass("ui-state-disabled"),"setEntry(object) created nested disabled entry"),e.equal(u(c,"e4").length,0,"setEntry(object) change command id (old is gone)"),e.equal(u(c,"e4_changed").length,1,"setEntry(object) change command id (new is set)"),e.equal(s(c,"e4_changed"),"Entry 4 - changed","setEntry(object) set title"),e.equal(u(c,"e5").find("span.ui-icon-changed").length,1,"updateEntry(<uiIcon>) sets icon"),e.equal(s(c,"e5"),"Entry 5","updateEntry(<uiIcon>) keeps  title"),e.ok(!u(c,"e9").is(":hidden"),"Entry 9 is visible"),e.ok(!u(c,"e9").hasClass("ui-state-disabled"),"Entry 9 is enabled"),o.contextmenu("enableEntry","e9",!1),e.ok(u(c,"e9").hasClass("ui-state-disabled"),"enableEntry(false)"),o.contextmenu("setIcon","e9","ui-icon-changed"),e.equal(u(c,"e9").find("span.ui-icon-changed").length,1,"setIcon()"),o.contextmenu("setTitle","e9","Entry 9 - changed"),e.equal(s(c,"e9"),"Entry 9 - changed","setTitle()"),o.contextmenu("showEntry","e9",!1),e.ok(u(c,"e9").is(":hidden"),"showEntry(false)"),o.contextmenu("updateEntry","e9",{title:"Entry 9 - updated",uiIcon:"ui-icon-updated",tooltip:"tooltip updated",disabled:!1,hide:!1,data:{foo:"bar"},setClass:"custom-class"}),e.ok(!u(c,"e9").hasClass("ui-state-disabled"),"updateEntry(disabled: false)"),e.equal(u(c,"e9").find("span.ui-icon-updated").length,1,"updateEntry(icon)"),e.ok(!u(c,"e9").is(":hidden"),"updateEntry(hide: false)"),e.equal(s(c,"e9"),"Entry 9 - updated","updateEntry(title)"),e.equal(u(c,"e9").attr("title"),"tooltip updated","updateEntry(tooltip)"),e.equal(u(c,"e9").data().foo,"bar","updateEntry(data)"),e.ok(u(c,"e9").is(".ui-menu-item.custom-class"),"updateEntry(setClass)"),setTimeout((function(){a(c,"e1")}),10)},select:function(i,a){var o=a.item?t(a.item).attr("data-command"):a.item;n("select("+o+")"),e.equal(a.cmd,"e1","select: ui.cmd is set"),e.equal(a.target.text(),"AAA","select: ui.target is set")},close:function(t){n("close"),e.equal(i(),"open(),beforeOpen,after open(),open,select(e1),close","Event sequence OK."),l()}}),o=t(":moogle-contextmenu"),c=o.contextmenu("getMenu"),n("open()"),o.contextmenu("open",t("span.hasmenu:first")),n("after open()")}))}));
//# sourceMappingURL=/sm/13f8bd1442f0b35059f20c2c4774b3f3f5e7e470e9b3fab6b43c2a0fa2c390c2.map